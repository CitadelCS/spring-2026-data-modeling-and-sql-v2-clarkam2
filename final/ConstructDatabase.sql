DROP SCHEMA IF EXISTS constructdb CASCADE;
CREATE SCHEMA constructdb;

SET search_path TO constructdb;

DROP TABLE IF EXISTS ASSIGNMENT CASCADE;

CREATE TABLE ASSIGNMENT (
  ASSIGN_NUM INTEGER NOT NULL DEFAULT 0 PRIMARY KEY,
  ASSIGN_DATE DATE,
  PROJ_NUM VARCHAR(3), 
  EMP_NUM VARCHAR(3), 
  ASSIGN_JOB VARCHAR(3), 
  ASSIGN_CHG_HR FLOAT(20) NULL DEFAULT 0,
  ASSIGN_HOURS FLOAT(20) NULL DEFAULT 0,
  ASSIGN_CHARGE FLOAT(20) NULL DEFAULT 0
);

CREATE INDEX assign_num_index ON ASSIGNMENT(ASSIGN_NUM);
CREATE INDEX emp_num_index ON ASSIGNMENT(EMP_NUM);
CREATE INDEX assign_job_index ON ASSIGNMENT(ASSIGN_JOB);
CREATE INDEX proj_num_index ON ASSIGNMENT(PROJ_NUM);


INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1001, '2012-03-22 00:00:00', '18', '103', '503', 84.5, 3.5, 295.75);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1002, '2012-03-22 00:00:00', '22', '117', '509', 34.55, 4.2, 145.11);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1003, '2012-03-22 00:00:00', '18', '117', '509', 34.55, 2, 69.1);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1004, '2012-03-22 00:00:00', '18', '103', '503', 84.5, 5.9, 498.55);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1005, '2012-03-22 00:00:00', '25', '108', '501', 96.75, 2.2, 212.85);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1006, '2012-03-22 00:00:00', '22', '104', '501', 96.75, 4.2, 406.35);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1007, '2012-03-22 00:00:00', '25', '113', '508', 50.75, 3.8, 192.85);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1008, '2012-03-22 00:00:00', '18', '103', '503', 84.5, .9, 76.05);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1009, '2012-03-23 00:00:00', '15', '115', '501', 96.75, 5.6, 541.8);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1010, '2012-03-23 00:00:00', '15', '117', '509', 34.55, 2.4, 82.92);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1011, '2012-03-23 00:00:00', '25', '105', '502', 105, 4.3, 451.5);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1012, '2012-03-23 00:00:00', '18', '108', '501', 96.75, 3.4, 328.95);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1013, '2012-03-23 00:00:00', '25', '115', '501', 96.75, 2, 193.5);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1014, '2012-03-23 00:00:00', '22', '104', '501', 96.75, 2.8, 270.9);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1015, '2012-03-23 00:00:00', '15', '103', '503', 84.5, 6.1, 515.45);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1016, '2012-03-23 00:00:00', '22', '105', '502', 105, 4.7, 493.5);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1017, '2012-03-23 00:00:00', '18', '117', '509', 34.55, 3.8, 131.29);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1018, '2012-03-23 00:00:00', '25', '117', '509', 34.55, 2.2, 76.01);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1019, '2012-03-24 00:00:00', '25', '104', '501', 110.5, 4.9, 541.45);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1020, '2012-03-24 00:00:00', '15', '101', '502', 125, 3.1, 387.5);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1021, '2012-03-24 00:00:00', '22', '108', '501', 110.5, 2.7, 298.35);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1022, '2012-03-24 00:00:00', '22', '115', '501', 110.5, 4.9, 541.45);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1023, '2012-03-24 00:00:00', '22', '105', '502', 125, 3.5, 437.5);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1024, '2012-03-24 00:00:00', '15', '103', '503', 84.5, 3.3, 278.85);
INSERT INTO ASSIGNMENT (ASSIGN_NUM, ASSIGN_DATE, PROJ_NUM, EMP_NUM, ASSIGN_JOB, ASSIGN_CHG_HR, ASSIGN_HOURS, ASSIGN_CHARGE) VALUES (1025, '2012-03-24 00:00:00', '18', '117', '509', 34.55, 4.2, 145.11);


DROP TABLE IF EXISTS EMPLOYEE;

CREATE TABLE EMPLOYEE (
  EMP_NUM VARCHAR(3) NOT NULL PRIMARY KEY,
  EMP_LNAME VARCHAR(15), 
  EMP_FNAME VARCHAR(15), 
  EMP_INITIAL VARCHAR(1), 
  EMP_HIREDATE DATE,
  JOB_CODE VARCHAR(3), 
  EMP_YEARS INTEGER DEFAULT 0
);

CREATE INDEX job_code_index ON EMPLOYEE(JOB_CODE);


INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('101', 'News', 'John', 'G', '2000-11-08 00:00:00', '502', 6);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('102', 'Senior', 'David', 'H', '1989-07-12 00:00:00', '501', 17);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('103', 'Arbough', 'June', 'E', '1996-12-01 00:00:00', '503', 10);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('104', 'Ramoras', 'Anne', 'K', '1987-11-15 00:00:00', '501', 19);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('105', 'Johnson', 'Alice', 'K', '1993-02-01 00:00:00', '502', 14);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('106', 'Smithfield', 'William', NULL, '2004-06-22 00:00:00', '500', 2);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('107', 'Alonzo', 'Maria', 'D', '1993-10-10 00:00:00', '500', 13);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('108', 'Washington', 'Ralph', 'B', '1991-08-22 00:00:00', '501', 15);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('109', 'Smith', 'Larry', 'W', '1997-07-18 00:00:00', '501', 9);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('110', 'Olenko', 'Gerald', 'A', '1995-12-11 00:00:00', '505', 11);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('111', 'Wabash', 'Geoff', 'B', '1991-04-04 00:00:00', '506', 15);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('112', 'Smithson', 'Darlene', 'M', '1994-10-23 00:00:00', '507', 12);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('113', 'Joenbrood', 'Delbert', 'K', '1996-11-15 00:00:00', '508', 10);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('114', 'Jones', 'Annelise', NULL, '1993-08-20 00:00:00', '508', 13);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('115', 'Bawangi', 'Travis', 'B', '1992-01-25 00:00:00', '501', 15);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('116', 'Pratt', 'Gerald', 'L', '1997-03-05 00:00:00', '510', 10);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('117', 'Williamson', 'Angie', 'H', '1996-06-19 00:00:00', '509', 10);
INSERT INTO EMPLOYEE (EMP_NUM, EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_HIREDATE, JOB_CODE, EMP_YEARS) VALUES ('118', 'Frommer', 'James', 'J', '2005-01-04 00:00:00', '510', 2);

DROP TABLE IF EXISTS JOB;

CREATE TABLE JOB (
  JOB_CODE VARCHAR(3) NOT NULL PRIMARY KEY,
  JOB_DESCRIPTION VARCHAR(25), 
  JOB_CHG_HOUR FLOAT(20) NULL DEFAULT 0,
  JOB_LAST_UPDATE DATE
);


INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('500', 'Programmer', 35.75, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('501', 'Systems Analyst', 96.75, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('502', 'Database Designer', 125, '2008-03-24 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('503', 'Electrical Engineer', 84.5, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('504', 'Mechanical Engineer', 67.9, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('505', 'Civil Engineer', 55.78, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('506', 'Clerical Support', 26.87, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('507', 'DSS Analyst', 45.95, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('508', 'Applications Designer', 48.1, '2008-03-24 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('509', 'Bio Technician', 34.55, '2007-11-20 00:00:00');
INSERT INTO JOB (JOB_CODE, JOB_DESCRIPTION, JOB_CHG_HOUR, JOB_LAST_UPDATE) VALUES ('510', 'General Support', 18.36, '2007-11-20 00:00:00');


DROP TABLE IF EXISTS PROJECT;

CREATE TABLE PROJECT (
  PROJ_NUM VARCHAR(3) NOT NULL PRIMARY KEY,
  PROJ_NAME VARCHAR(25), 
  PROJ_VALUE FLOAT(20) NULL DEFAULT 0,
  PROJ_BALANCE FLOAT(20) NULL DEFAULT 0,
  EMP_NUM VARCHAR(3)
);


INSERT INTO PROJECT (PROJ_NUM, PROJ_NAME, PROJ_VALUE, PROJ_BALANCE, EMP_NUM) VALUES ('15', 'Evergreen', 1453500, 1002350, '103');
INSERT INTO PROJECT (PROJ_NUM, PROJ_NAME, PROJ_VALUE, PROJ_BALANCE, EMP_NUM) VALUES ('18', 'Amber Wave', 3500500, 2110346, '108');
INSERT INTO PROJECT (PROJ_NUM, PROJ_NAME, PROJ_VALUE, PROJ_BALANCE, EMP_NUM) VALUES ('22', 'Rolling Tide', 805000, 500345.2, '102');
INSERT INTO PROJECT (PROJ_NUM, PROJ_NAME, PROJ_VALUE, PROJ_BALANCE, EMP_NUM) VALUES ('25', 'Starflight', 2650500, 2309880, '107');

